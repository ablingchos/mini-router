{"x_level":"info","x_time":"2024-08-20T14:26:47.247+0800","x_caller":"controller/impl/routing_server.go:91","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).serveGrpc","x_msg":"server listening on port: [::]:5200"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.021+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30271\" create_revision:151356 mod_revision:151356 version:1 value:\"{\\\"eid\\\":30271,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10001\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004112}\" lease:7640798129920004112  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.038+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30272\" create_revision:151359 mod_revision:151359 version:1 value:\"{\\\"eid\\\":30272,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10002\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004120}\" lease:7640798129920004120  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.143+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30273\" create_revision:151364 mod_revision:151364 version:1 value:\"{\\\"eid\\\":30273,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10003\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004134}\" lease:7640798129920004134  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.162+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30274\" create_revision:151367 mod_revision:151367 version:1 value:\"{\\\"eid\\\":30274,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10004\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004143}\" lease:7640798129920004143  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.254+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30275\" create_revision:151372 mod_revision:151372 version:1 value:\"{\\\"eid\\\":30275,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10006\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004157}\" lease:7640798129920004157  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.372+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30276\" create_revision:151377 mod_revision:151377 version:1 value:\"{\\\"eid\\\":30276,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10005\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004174}\" lease:7640798129920004174  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.468+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30277\" create_revision:151382 mod_revision:151382 version:1 value:\"{\\\"eid\\\":30277,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10007\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004192}\" lease:7640798129920004192  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.475+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30278\" create_revision:151385 mod_revision:151385 version:1 value:\"{\\\"eid\\\":30278,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10008\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004200}\" lease:7640798129920004200  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.577+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30279\" create_revision:151388 mod_revision:151388 version:1 value:\"{\\\"eid\\\":30279,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10009\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004210}\" lease:7640798129920004210  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:01.586+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30280\" create_revision:151391 mod_revision:151391 version:1 value:\"{\\\"eid\\\":30280,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10010\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004218}\" lease:7640798129920004218  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.570+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30281\" create_revision:151396 mod_revision:151396 version:1 value:\"{\\\"eid\\\":30281,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10012\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004232}\" lease:7640798129920004232  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.679+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30282\" create_revision:151399 mod_revision:151399 version:1 value:\"{\\\"eid\\\":30282,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10011\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004241}\" lease:7640798129920004241  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.809+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30283\" create_revision:151406 mod_revision:151406 version:1 value:\"{\\\"eid\\\":30283,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10013\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004263}\" lease:7640798129920004263  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.883+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30284\" create_revision:151409 mod_revision:151409 version:1 value:\"{\\\"eid\\\":30284,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10016\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004273}\" lease:7640798129920004273  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.897+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30285\" create_revision:151412 mod_revision:151412 version:1 value:\"{\\\"eid\\\":30285,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10015\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004283}\" lease:7640798129920004283  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.902+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30286\" create_revision:151415 mod_revision:151415 version:1 value:\"{\\\"eid\\\":30286,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10014\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004290}\" lease:7640798129920004290  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.941+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30287\" create_revision:151421 mod_revision:151421 version:1 value:\"{\\\"eid\\\":30287,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10018\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004308}\" lease:7640798129920004308  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.980+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30288\" create_revision:151424 mod_revision:151424 version:1 value:\"{\\\"eid\\\":30288,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10017\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004319}\" lease:7640798129920004319  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:10.985+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30289\" create_revision:151427 mod_revision:151427 version:1 value:\"{\\\"eid\\\":30289,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10019\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004326}\" lease:7640798129920004326  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:15.067+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{PUT key:\"/heartbeat/test/test1/30290\" create_revision:151431 mod_revision:151431 version:1 value:\"{\\\"eid\\\":30290,\\\"ip\\\":\\\"9.134.78.221\\\",\\\"port\\\":\\\"10020\\\",\\\"weight\\\":10,\\\"lease_id\\\":7640798129920004336}\" lease:7640798129920004336  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:27:58.756+0800","x_caller":"controller/impl/routing_server.go:260","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).ConsumerInit","x_msg":"resp; name:\"test\" hosts:{key:\"test1\" value:{name:\"test1\" endpoints:{key:30271 value:{eid:30271 ip:\"9.134.78.221\" port:\"10001\" weight:10 lease_id:7640798129920004112}} endpoints:{key:30272 value:{eid:30272 ip:\"9.134.78.221\" port:\"10002\" weight:10 lease_id:7640798129920004120}} endpoints:{key:30273 value:{eid:30273 ip:\"9.134.78.221\" port:\"10003\" weight:10 lease_id:7640798129920004134}} endpoints:{key:30274 value:{eid:30274 ip:\"9.134.78.221\" port:\"10004\" weight:10 lease_id:7640798129920004143}} endpoints:{key:30275 value:{eid:30275 ip:\"9.134.78.221\" port:\"10006\" weight:10 lease_id:7640798129920004157}} endpoints:{key:30276 value:{eid:30276 ip:\"9.134.78.221\" port:\"10005\" weight:10 lease_id:7640798129920004174}} endpoints:{key:30277 value:{eid:30277 ip:\"9.134.78.221\" port:\"10007\" weight:10 lease_id:7640798129920004192}} endpoints:{key:30278 value:{eid:30278 ip:\"9.134.78.221\" port:\"10008\" weight:10 lease_id:7640798129920004200}} endpoints:{key:30279 value:{eid:30279 ip:\"9.134.78.221\" port:\"10009\" weight:10 lease_id:7640798129920004210}} endpoints:{key:30280 value:{eid:30280 ip:\"9.134.78.221\" port:\"10010\" weight:10 lease_id:7640798129920004218}} endpoints:{key:30281 value:{eid:30281 ip:\"9.134.78.221\" port:\"10012\" weight:10 lease_id:7640798129920004232}} endpoints:{key:30282 value:{eid:30282 ip:\"9.134.78.221\" port:\"10011\" weight:10 lease_id:7640798129920004241}} endpoints:{key:30283 value:{eid:30283 ip:\"9.134.78.221\" port:\"10013\" weight:10 lease_id:7640798129920004263}} endpoints:{key:30284 value:{eid:30284 ip:\"9.134.78.221\" port:\"10016\" weight:10 lease_id:7640798129920004273}} endpoints:{key:30285 value:{eid:30285 ip:\"9.134.78.221\" port:\"10015\" weight:10 lease_id:7640798129920004283}} endpoints:{key:30286 value:{eid:30286 ip:\"9.134.78.221\" port:\"10014\" weight:10 lease_id:7640798129920004290}} endpoints:{key:30287 value:{eid:30287 ip:\"9.134.78.221\" port:\"10018\" weight:10 lease_id:7640798129920004308}} endpoints:{key:30288 value:{eid:30288 ip:\"9.134.78.221\" port:\"10017\" weight:10 lease_id:7640798129920004319}} endpoints:{key:30289 value:{eid:30289 ip:\"9.134.78.221\" port:\"10019\" weight:10 lease_id:7640798129920004326}} endpoints:{key:30290 value:{eid:30290 ip:\"9.134.78.221\" port:\"10020\" weight:10 lease_id:7640798129920004336}}}} hosts:{key:\"test2\" value:{name:\"test2\"}}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.440+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30271\" mod_revision:151432  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.441+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30275\" mod_revision:151433  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.441+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30272\" mod_revision:151434  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.441+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30276\" mod_revision:151435  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.441+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30274\" mod_revision:151436  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.441+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30273\" mod_revision:151437  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.940+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30279\" mod_revision:151438  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.940+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30280\" mod_revision:151439  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.941+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30277\" mod_revision:151440  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:28:12.941+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30278\" mod_revision:151441  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:51.872+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30282\" mod_revision:151442  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:51.874+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30281\" mod_revision:151443  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:51.874+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30283\" mod_revision:151444  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.372+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30285\" mod_revision:151445  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30290\" mod_revision:151446  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30286\" mod_revision:151447  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30287\" mod_revision:151448  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30284\" mod_revision:151449  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30289\" mod_revision:151450  <nil> {} [] 0}"}
{"x_level":"debug","x_time":"2024-08-20T14:39:52.374+0800","x_caller":"controller/impl/routing_server.go:167","x_func":"git.woa.com/kefuai/mini-router/controller/impl.(*RoutingServer).watchLoop","x_msg":"Received etcd event: &{DELETE key:\"/heartbeat/test/test1/30288\" mod_revision:151451  <nil> {} [] 0}"}
signal: killed
